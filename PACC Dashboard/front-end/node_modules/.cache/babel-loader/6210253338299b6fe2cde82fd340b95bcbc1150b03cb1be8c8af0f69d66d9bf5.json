{"ast":null,"code":"import { createRouter, createWebHistory } from \"vue-router\";\nimport Dashboard from \"../views/Dashboard.vue\";\nimport Tables from \"../views/Tables.vue\";\nimport Signup from \"../views/Signup.vue\";\nimport Signin from \"../views/Signin.vue\";\nimport store from \"../store/index.js\";\nconst routes = [{\n  path: \"/\",\n  name: \"/\",\n  redirect: \"/signin\"\n}, {\n  path: \"/dashboard-default\",\n  name: \"Dashboard\",\n  component: Dashboard,\n  // 이 라인 추가: 대시보드 페이지는 로그인이 필요\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/tables\",\n  name: \"Tables\",\n  component: Tables,\n  // 이 라인 추가: 테이블 페이지는 로그인이 필요\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/signin\",\n  name: \"Signin\",\n  component: Signin\n}, {\n  path: \"/signup\",\n  name: \"Signup\",\n  component: Signup\n}, {\n  path: \"/monitoring\",\n  name: \"Monitoring\"\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n  linkActiveClass: \"active\"\n});\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth) && !store.state.authToken) {\n    // 이 페이지는 인증이 필요하고, 사용자가 로그인하지 않았습니다.\n    console.log(\"Redirecting to login...\");\n    next(\"/signin\");\n  } else {\n    // 인증이 필요 없는 페이지이거나, 이미 로그인되어 있습니다.\n    console.log(\"Proceeding to route:\", to.path);\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","Dashboard","Tables","Signup","Signin","store","routes","path","name","redirect","component","meta","requiresAuth","router","history","process","env","BASE_URL","linkActiveClass","beforeEach","to","from","next","matched","some","record","state","authToken","console","log"],"sources":["D:/Git/ITRC_Front/vue-flask-dashboard/front-end/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from \"vue-router\";\nimport Dashboard from \"../views/Dashboard.vue\";\nimport Tables from \"../views/Tables.vue\";\nimport Signup from \"../views/Signup.vue\";\nimport Signin from \"../views/Signin.vue\";\nimport store from \"../store/index.js\";\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"/\",\n    redirect: \"/signin\",\n  },\n  {\n    path: \"/dashboard-default\",\n    name: \"Dashboard\",\n    component: Dashboard,\n    // 이 라인 추가: 대시보드 페이지는 로그인이 필요\n    meta: { requiresAuth: true },\n  },\n  {\n    path: \"/tables\",\n    name: \"Tables\",\n    component: Tables,\n    // 이 라인 추가: 테이블 페이지는 로그인이 필요\n    meta: { requiresAuth: true },\n  },\n  {\n    path: \"/signin\",\n    name: \"Signin\",\n    component: Signin,\n  },\n  {\n    path: \"/signup\",\n    name: \"Signup\",\n    component: Signup,\n  },\n  {\n    path:\"/monitoring\",\n    name:\"Monitoring\",\n  }\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n  linkActiveClass: \"active\",\n});\n\nrouter.beforeEach((to, from, next) => {\n  if (\n    to.matched.some((record) => record.meta.requiresAuth) &&\n    !store.state.authToken\n  ) {\n    // 이 페이지는 인증이 필요하고, 사용자가 로그인하지 않았습니다.\n    console.log(\"Redirecting to login...\");\n    next(\"/signin\");\n  } else {\n    // 인증이 필요 없는 페이지이거나, 이미 로그인되어 있습니다.\n    console.log(\"Proceeding to route:\", to.path);\n    next();\n  }\n});\n\nexport default router;\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,KAAK,MAAM,mBAAmB;AAErC,MAAMC,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,GAAG;EACTC,QAAQ,EAAE;AACZ,CAAC,EACD;EACEF,IAAI,EAAE,oBAAoB;EAC1BC,IAAI,EAAE,WAAW;EACjBE,SAAS,EAAET,SAAS;EACpB;EACAU,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEL,IAAI,EAAE,SAAS;EACfC,IAAI,EAAE,QAAQ;EACdE,SAAS,EAAER,MAAM;EACjB;EACAS,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEL,IAAI,EAAE,SAAS;EACfC,IAAI,EAAE,QAAQ;EACdE,SAAS,EAAEN;AACb,CAAC,EACD;EACEG,IAAI,EAAE,SAAS;EACfC,IAAI,EAAE,QAAQ;EACdE,SAAS,EAAEP;AACb,CAAC,EACD;EACEI,IAAI,EAAC,aAAa;EAClBC,IAAI,EAAC;AACP,CAAC,CACF;AAED,MAAMK,MAAM,GAAGd,YAAY,CAAC;EAC1Be,OAAO,EAAEd,gBAAgB,CAACe,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EAC/CX,MAAM;EACNY,eAAe,EAAE;AACnB,CAAC,CAAC;AAEFL,MAAM,CAACM,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,IACEF,EAAE,CAACG,OAAO,CAACC,IAAI,CAAEC,MAAM,IAAKA,MAAM,CAACd,IAAI,CAACC,YAAY,CAAC,IACrD,CAACP,KAAK,CAACqB,KAAK,CAACC,SAAS,EACtB;IACA;IACAC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;IACtCP,IAAI,CAAC,SAAS,CAAC;EACjB,CAAC,MAAM;IACL;IACAM,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAET,EAAE,CAACb,IAAI,CAAC;IAC5Ce,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC;AAEF,eAAeT,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}